var mapm = [];
mapm[0] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 4, 0, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 3, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];
mapm[1] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 0, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 3, 0, 3, 2, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 2, 0, 3, 4, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 3, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 1, 2, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[2] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 4, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 3, 3, 1, 0, 1, 1, 1, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 3, 0, 1, 0, 1, 2, 1, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 0, 1, 1, 1, 2, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 2, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];

mapm[3] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 4, 3, 0, 1, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 3, 0, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 0, 3, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 2, 3, 0, 0, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 2, 2, 5, 2, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[4] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 4, 0, 1, 1, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 3, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 2, 1, 0, 1, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 2, 3, 0, 0, 1, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 2, 0, 0, 0, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[5] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 1, 0, 0, 0, 2, 1, 1, 1, 0, 1, 0, 0, 0, 0, 0],
    [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
    [0, 1, 0, 1, 0, 3, 0, 3, 1, 2, 0, 1, 0, 0, 0, 0],
    [0, 1, 0, 1, 0, 0, 5, 0, 0, 1, 0, 1, 0, 0, 0, 0],
    [0, 1, 0, 2, 1, 3, 0, 3, 0, 1, 0, 1, 0, 0, 0, 0],
    [0, 1, 1, 0, 0, 0, 0, 1, 0, 1, 0, 1, 1, 1, 0, 0],
    [0, 0, 1, 0, 1, 1, 1, 2, 0, 0, 0, 0, 4, 1, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0],
    [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[6] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 0, 0, 1, 0, 4, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 3, 0, 3, 0, 3, 0, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 3, 1, 1, 0, 0, 1, 0, 0, 0],
    [0, 0, 0, 1, 1, 1, 0, 3, 0, 1, 0, 1, 1, 0, 0, 0],
    [0, 0, 0, 1, 2, 2, 2, 2, 2, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[7] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 1, 2, 0, 3, 1, 1, 0, 1, 1, 0, 0, 0],
    [0, 0, 0, 1, 2, 2, 3, 0, 3, 0, 0, 4, 1, 0, 0, 0],
    [0, 0, 0, 1, 2, 2, 0, 3, 0, 3, 0, 1, 1, 0, 0, 0],
    [0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[8] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 0, 0, 0, 3, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 3, 0, 1, 1, 1, 0, 3, 1, 0, 0, 0, 0],
    [0, 0, 0, 1, 0, 1, 2, 2, 2, 1, 0, 1, 0, 0, 0, 0],
    [0, 0, 1, 1, 0, 1, 2, 2, 2, 1, 0, 1, 1, 0, 0, 0],
    [0, 0, 1, 0, 3, 0, 0, 3, 0, 0, 3, 0, 1, 0, 0, 0],
    [0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 4, 0, 1, 0, 0, 0],
    [0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[9] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 3, 3, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 4, 0, 3, 2, 2, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 3, 2, 2, 2, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[10] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0],
    [0, 0, 1, 1, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0],
    [0, 0, 1, 0, 3, 0, 1, 1, 1, 1, 3, 0, 0, 1, 0, 0],
    [0, 0, 1, 0, 0, 3, 2, 2, 2, 2, 0, 3, 0, 1, 0, 0],
    [0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 4, 0, 1, 1, 0, 0],
    [0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[11] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 0, 0, 4, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 0, 3, 2, 0, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 0, 2, 3, 2, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 0, 5, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[12] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 2, 2, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 0, 2, 1, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 0, 0, 3, 2, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 0, 3, 0, 0, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 0, 1, 3, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 0, 4, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[13] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 3, 2, 2, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 4, 3, 2, 5, 0, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 3, 2, 2, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];


mapm[14] = [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 3, 0, 3, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 2, 2, 2, 2, 2, 2, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 0, 3, 3, 0, 3, 0, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 1, 0, 4, 1, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
];
var level = 0;
var map;
map = mapm[level]; //初始化地图

var can = document.getElementById("mycanvas"); //获得canvas标签
var message = document.getElementById("message");
var cxt = can.getContext("2d"); //2d方式画图
var w = 35,
    h = 35; //定义宽和高
var curMap; //当前的地图
var curLevel; //当前等级的地图
var curMan; //初始化小人
var iCurlevel = 0; //关卡数
var moveTimes = 0; //移动了多少次

function $(id) {
    return document.getElementById(id);
}

function Point(x, y) {
    this.x = x;
    this.y = y;
}
var perPosition = new Point(0, 0);
var img = new Image();
var img_person = new Image();
var img_box = new Image();
var img_end = new Image();
img.src = "img/砖块.png";
img_box.src = "img/箱子.png";
img_person.src = "img/人.jpg";
img_end.src = "img/终点.jpg";

var map;
map = mapm[level]; //初始化地图

var can = document.getElementById("mycanvas"); //获得canvas标签
var message = document.getElementById("message");
var cxt = can.getContext("2d"); //2d方式画图
var w = 35,
    h = 35; //定义宽和高
var curMap; //当前的地图
var curLevel; //当前等级的地图
var curMan; //初始化小人
var iCurlevel = 0; //关卡数
var moveTimes = 0; //移动了多少次


var perPosition = new Point(0, 0);
var img = new Image();
var img_person = new Image();
var img_box = new Image();
var img_end = new Image();
img.src = "img/砖块.png";
img_box.src = "img/箱子.png";
img_person.src = "img/人.jpg";
img_end.src = "img/终点.jpg";


function message() {


}

(function () {
    function Storehouse(playerPos, map, parent, path, step) {
        this.playerPos = playerPos; //人的位置
        this.map = map; //地图
        this.parent = parent; //父状态
        this.path = path; //从最初状态来到此状态的路径
        this.step = step; //来到此状态的步数
    }
    //获取人的位置
    Storehouse.prototype.getplayerposition = function () {
        return this.playerPos;
    }

    //获取地图
    Storehouse.prototype.getnowmap = function () {
        return this.map;
    }

    //获取路径
    Storehouse.prototype.getpath = function () {
        return this.path;
    }

    //获取步数
    Storehouse.prototype.getmpteps = function () {
        return this.step;
    }

    Storehouse.prototype.getboxlist = function () { //获取此状态中的所有箱子
        var boxlist = [];
        for (var i = 0; i < this.map.length; i++) {
            for (var j = 0; j < this.map[i].length; j++) {
                if (this.map[i][j] == 3 || this.map[i][j] == 5) //箱子在目标上
                    boxlist.push({
                    x: i,
                    y: j
                }); //箱子坐标

            }
        }
        return boxlist.sort(order);
    }

    //位置是否越界
    Storehouse.prototype.ifwrong = function (pos) {
        if (pos.x < 0 || pos.x >= map.length) return false;
        if (pos.y < 0 || pos.y >= map[0].length) return false;
        return true;
    }

    Storehouse.prototype.getendlist = function () { //获取此状态中的所有目标点
        var endlist = [];
        for (var i = 0; i < this.map.length; i++) {
            for (var j = 0; j < this.map[i].length; j++) {
                if (this.map[i][j] == 2 || this.map[i][j] == 5 || this.map[i][j] == 6) //箱子在目标上,人在目标点
                    endlist.push({
                    x: i,
                    y: j
                }); //目标坐标

            }
        }
        return endlist.sort(order);
        //return endlist;
    }

    //剪枝函数，玩家的阻碍点，箱子的死点，用递归进行分析
    Storehouse.prototype.isblock = function (array, row, col) {
        var b = false;
        if ((this.map[row][col] == 0) || (this.map[row][col] == 2) || this.map[row][col] == 4) {
            b = false;
        } else if ((this.map[row][col] == 1) || contains(array, {
                x: row,
                y: col
            }) != -1) {
            b = true;
            array.push({
                x: row,
                y: col
            });
        } else if (this.map[row][col] == 4) {
            array.push({
                x: row,
                y: col
            });
            b = (((this.isblock(array, row + 1, col) || this.isblock(array, row - 1, col)) &&
                (this.isblock(array, row, col + 1) || this.isblock(array, row, col - 1))));
            if (!b) {
                var index = contains(array, {
                    x: row,
                    y: col
                });
                array.splice(index, 1);
            }
        }
        return b;
    }


    Storehouse.prototype.toString = function () {
        var s = "";
        for (var i = 0, lenx = this.map.length; i < lenx; i++) {
            s = s + this.map[i].join(" ") + "<br>";
        }
        return s;
    }

    Storehouse.prototype.isWin = function () { //是否赢了，比较此状态中的所有箱子和目标点
        var boxl = this.getboxlist();
        var endl = this.getendlist();
        for (var i = 0; i < boxl.length; i++) {
            if ((boxl[i].x != endl[i].x) || (boxl[i].y != endl[i].y))
                return false;
        }

        return true;
    }

    //比较两个状态是否相等
    Storehouse.prototype.equals = function (other) {
        if ((this.playerPos.x != other.playerPos.x) || (this.playerPos.y != other.playerPos.y))
            return false;
        for (var i = 0; i < this.map.length; i++) {
            for (var j = 0; j < this.map[i].length; j++) {
                if (this.map[i][j] != other.map[i][j])
                    return false;

            }
        }
        return true;
    }

    //判断数组是否包含某一点
    function contains(arr, p) {
        for (var i = 0, len = arr.length; i < len; i++) {
            if (arr[i].x == p.x && arr[i].y == p.y)
                return i;
        }
        return -1;
    }

    //箱子排序函数
    function order(s1, s2) {
        if (s1.x > s2.x) {
            return 1;
        } else if (s1.x == s2.x) { //在同一行，比较列
            if (s1.y > s2.y) {
                return 1;
            } else if (s1.y == s2.y) {
                return 0;
            } else
                return -1;
        } else
            return -1;
    }
    window.Storehouse = Storehouse;
})()


function nextorfor(i) {
    //iCurlevel当前的地图关数
    iCurlevel = iCurlevel + i;
    if (iCurlevel < 0) {
        iCurlevel = 0;
        return;
    }
    var len = mapm.length;
    if (iCurlevel > len - 1) {
        iCurlevel = len - 1;
    }
    draw(mapm[iCurlevel]); //初始当前等级关卡
    moveTimes = 0; //游戏关卡移动步数清零
}



function draw(tmap) {
    curLevel = curMap = tmap;
    cxt.clearRect(0, 0, 560, 560);
    for (var i = 0; i < 16; i++) {
        for (var j = 0; j < 16; j++) {
            //count++;
            if (tmap[i][j] == 1) {
                cxt.drawImage(img, w * j, h * i, w, h);
                //alert("map"+map_temp[i][j]+"i:"+i+"j:"+j);
            } else if (tmap[i][j] == 3 || curMap[i][j] == 5) {
                cxt.drawImage(img_box, w * j, h * i, w, h);
            } else if (tmap[i][j] == 4 || curMap[i][j] == 6) {
                //curMan=
                perPosition.x = i;
                perPosition.y = j;
                //alert(perPosition.x);
                cxt.drawImage(img_person, w * j, h * i, w, h);
            } else if (tmap[i][j] == 2) {
                cxt.drawImage(img_end, w * j, h * i, w, h);
            }
        }
    }
}

function go(dir) {
    var p1, p2;
    switch (dir) {
        case "up":
            //curMan = up;
            //获取小人前面的两个坐标位置来进行判断小人是否能够移动
            //两种情况，一种是有障碍物，一种是有箱子还要再判断前一个
            p1 = new Point(perPosition.x - 1, perPosition.y);
            p2 = new Point(perPosition.x - 2, perPosition.y);
            break;
        case "down":
            //curMan = down;
            p1 = new Point(perPosition.x + 1, perPosition.y);
            p2 = new Point(perPosition.x + 2, perPosition.y);
            break;
        case "left":
            //curMan = left;
            p1 = new Point(perPosition.x, perPosition.y - 1);
            p2 = new Point(perPosition.x, perPosition.y - 2);
            break;
        case "right":
            //curMan = right;
            p1 = new Point(perPosition.x, perPosition.y + 1);
            p2 = new Point(perPosition.x, perPosition.y + 2);
            break;
    }
    if (Try(p1, p2)) {
        //curMap[perPosition.x][perPosition.y] = 0;
        moveTimes++;
        //showMoveInfo();
    }
    //重绘当前更新了数据的地图
    //alert(curMap);
    draw(curMap);


}


function ifwin() {
    var flag = 0;
    for (var i = 0; i < 16; i++)
        for (var j = 0; j < 16; j++)
            if (curMap[i][j] == 2) flag = 1;
    if (flag == 0) return true;
    return false;

}

function doKeyDown(event) {
    switch (event.keyCode) {
        case 37: //左键头
        case 65:
            go("left");
            break;
        case 38: //上键头
        case 87:
            go("up");
            break;
        case 39: //右箭头
        case 68:
            go("right");
            break;
        case 40: //下箭头
        case 83:
            go("down");
            break;
    }
}

function Try(p1, p2) {
    if (p1.x < 0) return false; //若果超出地图的上边，不通过
    if (p1.y < 0) return false; //若果超出地图的左边，不通过
    if (p1.x > curMap.length) return false; //若果超出地图的下边，不通过
    if (p1.y > curMap[0].length) return false; //若果超出地图的右边，不通过
    if (curMap[p1.x][p1.y] == 1) return false; //若果前面是墙，不通过
    if (curMap[p1.x][p1.y] == 3 || curMap[p1.x][p1.y] == 5) { //若果小人前面是箱子那就还需要判断箱子前面有没有障碍物(箱子/墙)
        if (curMap[p2.x][p2.y] == 1 || curMap[p2.x][p2.y] == 3 || curMap[p2.x][p2.y] == 5) {
            return false;
        }
        //若果判断不成功小人前面的箱子前进一步
        if (curMap[p2.x][p2.y] == 2) curMap[p2.x][p2.y] = 5;
        else curMap[p2.x][p2.y] = 3; //更改地图对应坐标点的值
        //console.log(curMap[p2.x][p2.y]);
    }
    //若果都没判断成功小人前进一步
    if (curMap[p1.x][p1.y] == 5 || curMap[p1.x][p1.y] == 2) curMap[p1.x][p1.y] = 6; //更改地图对应点的
    else curMap[p1.x][p1.y] = 4;
    //若果小人前进了一步，小人原来的位置如何显示
    var v = curLevel[perPosition.x][perPosition.y];
    //alert(v);
    if (v == 6) curMap[perPosition.x][perPosition.y] = 2;
    else curMap[perPosition.x][perPosition.y] = 0;
    //重置小人位置的地图参数
    //若果判断小人前进了一步，更新坐标值
    perPosition = p1;
    //若果小动了 返回true 指代能够移动小人
    return true;
}

var dx = [-1, 1, 0, 0]; //人有四个方向可移动,下，上，右，左
var dy = [0, 0, 1, -1];

var playerPos = new Point(0, 0);
var tempmap; //临时的地图数据
var queue; //队列，保存程序中产生的推箱子状态
var allstate; //保存所有状态，用于判断重复
var finish; //是否结束
var state; //最初状态，参数有：人的位置，地图，父状态，来到此状态的路径和步数
var state1; //保存最初状态
//allstate.push(state); //最初状态加入数组

function isExist(sta) { //判断数组allstate中是否存在sta
    for (var i = 0; i < allstate.length; i++)
        if (allstate[i].equals(sta))
            return true;
    return false;
}

function Bfs() {
    queue.unshift(state); //最初状态进队列
    while (queue.length != 0) {
        state = queue.pop(); //从队列中出队的节点
        for (var i = 0; i < 4; ++i) {
            switch (i) {
                case 0:
                    moveplayer(state, -1, 0, "u");
                    break;
                case 1:
                    moveplayer(state, 1, 0, "d");
                    break;
                case 2:
                    moveplayer(state, 0, 1, "r");
                    break;
                case 3:
                    moveplayer(state, 0, -1, "l");
                    break;
            }
            if (finish) { //如果找到了答案
                return;
            }
        }
    }
    return false;
}

var count = 0;

function moveplayer(state, m, n, direc) {
    var player = state.getplayerposition(); //玩家的位置
    var tempmap = copyArray(state.getnowmap());
    var tmp = null;
    //人物的下一个位置
    var tempPos = new Point(0, 0);
    //箱子的下一个位置
    var boxPos = new Point(0, 0);
    tempPos.x = player.x + m;
    tempPos.y = player.y + n;
    //alert(tempmap);

    if (!state.ifwrong(tempPos)) return; //位置出界
    var playerMap = tempmap[tempPos.x][tempPos.y]; //人物位置地图数值

    if (playerMap != 1) {
        //人物碰到箱子或处在目标点上的箱子
        if (playerMap == 3 || playerMap == 5) {
            boxPos.x = tempPos.x + m;
            boxPos.y = tempPos.y + n;
            if (!state.ifwrong(boxPos)) return;
            var boxMap = tempmap[boxPos.x][boxPos.y]; //箱子位置地图数值
            //箱子的下一位置不能是墙或箱子
            if (boxMap != 1 && boxMap != 3 && boxMap != 5) {
                if (boxMap == 0) {
                    tempmap[boxPos.x][boxPos.y] = 3;
                } else if (boxMap == 2) {
                    tempmap[boxPos.x][boxPos.y] = 5;
                }
                //移动人
                if (playerMap == 5) {
                    tempmap[tempPos.x][tempPos.y] = 6; //碰到在目标点上的箱子，变成人在目标点上
                } else {
                    tempmap[tempPos.x][tempPos.y] = 4; //人到箱子的位置
                }

                if (tempmap[player.x][player.y] == 6) { //人原来在一个目标点上
                    tempmap[player.x][player.y] = 2; //人的原来位置设为目标点
                } else {
                    tempmap[player.x][player.y] = 0; //人的原来位置设为空地
                }

                tmp = new Storehouse(tempPos, tempmap, state, state.getpath() + direc.toUpperCase(), state.getmpteps() + 1); //新状态

                if (tmp.isWin()) { //判断新状态是否完成任务，return;否则
                    console.log(tempmap);
                    path = tmp.getpath();
                    count = tmp.getmpteps();
                    finish = true;
                    return;
                }

                if (!tmp.isblock(new Array(), boxPos.x, boxPos.y) && !isExist(tmp)) { // 分析此状态是否是死的或已经存在")
                    //产生了一个新状态;
                    console.log(tempmap);
                    allstate.push(tmp); //保存此状态
                    queue.unshift(tmp); //进队列
                }
            }
        } else { //人物碰到空地或碰到目标点
            if (tempmap[player.x][player.y] == 6) { //人原来在一个目标点上
                tempmap[player.x][player.y] = 2; //人的原来位置设为目标点
                if (tempmap[tempPos.x][tempPos.y] == 2) //
                    tempmap[tempPos.x][tempPos.y] = 6; //人在目标点上
                else tempmap[tempPos.x][tempPos.y] = 4; //新的地图数据设置为人

            } else if (tempmap[player.x][player.y] == 4) { //人的原来位置
                tempmap[player.x][player.y] = 0; //人的原来位置设为空地
                if (tempmap[tempPos.x][tempPos.y] == 2) //
                    tempmap[tempPos.x][tempPos.y] = 6; //人在目标点上
                else tempmap[tempPos.x][tempPos.y] = 4; //新的地图数据设置为人
            }

            tmp = new Storehouse(tempPos, tempmap, state, state.getpath() + direc, state.getmpteps() + 1); //产生一个状态

            //alert(1);
            if (!isExist(tmp)) {
                //新状态
                console.log(tempmap);
                allstate.push(tmp);
                queue.unshift(tmp); //进队列
            }
        }
    }
    //人的下个位置是墙
}

function copyArray(arr) {
    var b = [];
    for (var i = 0; i < arr.length; i++) {
        b[i] = arr[i].concat();
    }
    return b;
}

window.onload = function () {

    draw(mapm[iCurlevel]);
    var ai = document.getElementById("ai");

    ai.onclick = function () {
        var mmm = 0;
        tempmap = null; //临时的地图数据
        queue = []; //队列，保存程序中产生的推箱子状态
        allstate = []; //保存所有状态，用于判断重复
        finish = false; //是否结束
        //alert(curMap);
        state = new Storehouse(perPosition, curMap, null, "", 0); //最初状态，参数有：人的位置，地图，父状态，来到此状态的路径和步数
        state1 = state; //保存最初状态
        allstate.push(state); //最初状态加入数组
        //var tmap = map;
        Bfs();
        int = self.setInterval(function () {
            if (path[mmm] == 'u' || path[mmm] == 'U') {
                go("up");
                mmm++
            } else if (path[mmm] == 'd' || path[mmm] == 'D') {
                go("down");
                mmm++
            } else if (path[mmm] == 'l' || path[mmm] == 'L') {
                go("left");
                mmm++
            } else if (path[mmm] == 'r' || path[mmm] == 'R') {
                go("right");
                mmm++
            } else {
                alert("完成，步数为" + count);
                int = window.clearInterval(int);
            }
        }, 300);

    }

}